
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://fenrirkey.github.io/0.5/True-PBR/">
      
      
        <link rel="prev" href="../Shader-Constant-Buffers/">
      
      
        <link rel="next" href="../VR-Developer-Notes/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.48">
    
    
      
        <title>True PBR - Community Shaders Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,700,700i%7CRed+Hat+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Open Sans";--md-code-font:"Red Hat Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#true-pbr-for-modders" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Community Shaders Documentation" class="md-header__button md-logo" aria-label="Community Shaders Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Community Shaders Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              True PBR
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="yellow" data-md-color-accent="amber"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue-grey" data-md-color-accent="grey"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/fenrirkey/fenrirkey.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    fenrirkey/fenrirkey.github.io
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Community Shaders Documentation" class="md-nav__button md-logo" aria-label="Community Shaders Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Community Shaders Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/fenrirkey/fenrirkey.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    fenrirkey/fenrirkey.github.io
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Buffers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Buffers
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Developers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Developers
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Dynamic-Cubemap-Creator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dynamic Cubemap Creator
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../FAQ/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Light-Placer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Light Placer
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Particle-Lights/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Particle Lights
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Shader-Constant-Buffers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Shader Constant Buffers
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    True PBR
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    True PBR
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#true-pbr-for-modders" class="md-nav__link">
    <span class="md-ellipsis">
      True PBR for modders
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#true-pbr-for-texture-artists" class="md-nav__link">
    <span class="md-ellipsis">
      True PBR for texture artists
    </span>
  </a>
  
    <nav class="md-nav" aria-label="True PBR for texture artists">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mesh-changes-in-nif" class="md-nav__link">
    <span class="md-ellipsis">
      Mesh changes (in .nif)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Mesh changes (in .nif)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flags" class="md-nav__link">
    <span class="md-ellipsis">
      Flags
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#general-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      General Parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#batch-mesh-patching" class="md-nav__link">
    <span class="md-ellipsis">
      Batch mesh patching
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#viewing-pbr-properties-in-nifskope-pbr-add-on" class="md-nav__link">
    <span class="md-ellipsis">
      Viewing PBR properties in Nifskope (PBR Add-on)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#special-rendering-techniques" class="md-nav__link">
    <span class="md-ellipsis">
      Special rendering techniques
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Special rendering techniques">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#glint" class="md-nav__link">
    <span class="md-ellipsis">
      Glint
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fuzz" class="md-nav__link">
    <span class="md-ellipsis">
      Fuzz
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hair-model" class="md-nav__link">
    <span class="md-ellipsis">
      Hair model
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multilayer-parallax-wip" class="md-nav__link">
    <span class="md-ellipsis">
      Multilayer Parallax (WIP)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#texture-changes" class="md-nav__link">
    <span class="md-ellipsis">
      Texture changes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Texture changes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#general-textures" class="md-nav__link">
    <span class="md-ellipsis">
      General textures
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#landscape-textures" class="md-nav__link">
    <span class="md-ellipsis">
      Landscape textures
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#texture-creation-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      Texture Creation Workflow
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#faq" class="md-nav__link">
    <span class="md-ellipsis">
      FAQ
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../VR-Developer-Notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VR Developer Notes
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#true-pbr-for-modders" class="md-nav__link">
    <span class="md-ellipsis">
      True PBR for modders
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#true-pbr-for-texture-artists" class="md-nav__link">
    <span class="md-ellipsis">
      True PBR for texture artists
    </span>
  </a>
  
    <nav class="md-nav" aria-label="True PBR for texture artists">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mesh-changes-in-nif" class="md-nav__link">
    <span class="md-ellipsis">
      Mesh changes (in .nif)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Mesh changes (in .nif)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flags" class="md-nav__link">
    <span class="md-ellipsis">
      Flags
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#general-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      General Parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#batch-mesh-patching" class="md-nav__link">
    <span class="md-ellipsis">
      Batch mesh patching
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#viewing-pbr-properties-in-nifskope-pbr-add-on" class="md-nav__link">
    <span class="md-ellipsis">
      Viewing PBR properties in Nifskope (PBR Add-on)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#special-rendering-techniques" class="md-nav__link">
    <span class="md-ellipsis">
      Special rendering techniques
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Special rendering techniques">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#glint" class="md-nav__link">
    <span class="md-ellipsis">
      Glint
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fuzz" class="md-nav__link">
    <span class="md-ellipsis">
      Fuzz
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hair-model" class="md-nav__link">
    <span class="md-ellipsis">
      Hair model
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multilayer-parallax-wip" class="md-nav__link">
    <span class="md-ellipsis">
      Multilayer Parallax (WIP)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#texture-changes" class="md-nav__link">
    <span class="md-ellipsis">
      Texture changes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Texture changes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#general-textures" class="md-nav__link">
    <span class="md-ellipsis">
      General textures
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#landscape-textures" class="md-nav__link">
    <span class="md-ellipsis">
      Landscape textures
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#texture-creation-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      Texture Creation Workflow
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#faq" class="md-nav__link">
    <span class="md-ellipsis">
      FAQ
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>True PBR</h1>

<h2 id="true-pbr-for-modders">True PBR for modders<a class="headerlink" href="#true-pbr-for-modders" title="Permanent link">&para;</a></h2>
<p>PBR (physically based rendering) approximates how real materials react to light and is used in most modern games. True PBR is a part of Community Shaders that has several benefits:</p>
<ul>
<li>More realistic lighting than in vanilla and complex material is possible, and more effects such as <abbr title="subsurface scattering">SSS</abbr>, glow, or multilayer can be combined.</li>
<li>It allows the usage of PBR materials which are widely available online, many for free</li>
<li>Those materials can be used easily in standard tools like Blender and exported in a simple way</li>
<li>The materials will look the same way in Skyrim as in those tools so it is easy to create consistent visuals. There is no need to experiment and adjust brightness according to Skyrim's very unique levels</li>
</ul>
<p>To use PBR you will need to obtain Community Shaders which includes the True PBR feature as of version 1.0.0 and True PBR texture packs. Those are available on <a href="https://www.nexusmods.com/skyrimspecialedition/search/?BH=0&amp;RH_ModList=nav:true,home:false,type:0,user_id:0,game_id:1704,advfilt:true,trackingCategory:,trackingAction:,include_adult:false,sort_by:OLD_downloads,show_game_filter:false,page_size:20,open:true,search%5Bfilename%5D:pbr">Nexus</a>. But remember, those texture packs will not work without Community Shaders enabled.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If meshes are not provided by the author, then you must run <a href="https://www.nexusmods.com/skyrimspecialedition/mods/120946">ParallaxGen</a> on your load order to create patched meshes and a plugin to enable PBR shaders on those meshes.</p>
</div>
<p>If you are not a texture creator you can safely ignore everything else described below.</p>
<h2 id="true-pbr-for-texture-artists">True PBR for texture artists<a class="headerlink" href="#true-pbr-for-texture-artists" title="Permanent link">&para;</a></h2>
<p>All the followings sections are only relevant to you if are creating textures for Skyrim yourself. 
To generate a set of True PBR textures you need to do two things:</p>
<ol>
<li>Update the meshes where those textures are being used to enable PBR for those meshes: True PBR only cares about meshes marked with a specific flag, everything else is rendered as usual. True PBR mods therefore contain meshes marked for PBR and a set of PBR textures. </li>
<li>Create True PBR textures: The base textures for True PBR are albedo, normal, roughness, metallic, ambient occlusion and specular. Parallax and emission (if emissive color map is provided) are also supported. Additionally the material can use <del>two-sided foliage or</del> subsurface shading, which require subsurface color map and multilayer Parallax which approximates a semitransparent surface above a hard surface (<a href="https://docs.unrealengine.com/5.3/en-US/shading-models-in-unreal-engine/">also following Unreal</a>).</li>
</ol>
<h3 id="mesh-changes-in-nif">Mesh changes (in .nif)<a class="headerlink" href="#mesh-changes-in-nif" title="Permanent link">&para;</a></h3>
<h4 id="flags">Flags<a class="headerlink" href="#flags" title="Permanent link">&para;</a></h4>
<p>The following flags of BSShaderProperty are used to tag a mesh for PBR rendering:</p>
<ul>
<li>Byte 55 (Unused01 in NifSkope) - enables PBR for this BSGeometry</li>
<li><del>Byte 57 (Soft_Lighting in NifSkope) - enables two-sided foliage shading</del></li>
<li>Byte 58 (Rim_Lighting in Nifskope) - enables subsurface shading in NifSkope</li>
</ul>
<p>For a mesh to be recognized as PBR, it must have in BSLightingShaderProperty:</p>
<ul>
<li>
<p>Default shader type</p>
</li>
<li>
<p>In Shader Flags 2 have Unused01 (or PBR) flag set</p>
</li>
</ul>
<h4 id="general-parameters">General Parameters<a class="headerlink" href="#general-parameters" title="Permanent link">&para;</a></h4>
<p>To tweak PBR settings for the mesh the following parameters of BSShaderProperty can be used:</p>
<ul>
<li>Specular Level (replaces Glossiness) - linear multiplier for nonmetal reflectance. Should be 0.04 for meshes which do not have specular map (and have 1 in alpha of RMAOS map) or 0.08 for meshes which have specular map created for Unreal.</li>
<li>Subsurface Color (replaces Specular Color) - used in Two-Sided Foliage and Subsurface models. If subsurface map is provided it's used as linear multiplier for its RGB.</li>
<li>Roughness Scale (replaces Specular Strength) - linear multiplier for roughness. The smaller the value the smoother and more reflective the texture.</li>
<li>Subsurface Opacity (replaces Lighting Effect 1) - used in Subsurface model. If subsurface map is provided it's used as linear multiplier for its alpha. <strong>Higher opacity makes the effect weaker - lower opacity allows more light through the surface.</strong></li>
<li>Displacement Scale (replaces Lighting Effect 2) - linear multiplier for displacement.</li>
</ul>
<h4 id="batch-mesh-patching">Batch mesh patching<a class="headerlink" href="#batch-mesh-patching" title="Permanent link">&para;</a></h4>
<p>To set up PBR meshes in batch, you can use <a href="https://www.nexusmods.com/skyrimspecialedition/mods/120946">ParallaxGen</a>. Patching is useful when retexturing vanilla meshes because there are thousands of them and users might have custom mesh additions or mesh fixes using the same textures. ParallaxGen now includes functionality of PbrNifPatcher and development will continue there. Read the original <a href="https://github.com/ThePagi/PBRNifPatcher">PbrNifPatcher</a> page for the description of all available properties for patching.</p>
<h4 id="viewing-pbr-properties-in-nifskope-pbr-add-on">Viewing PBR properties in Nifskope (PBR Add-on)<a class="headerlink" href="#viewing-pbr-properties-in-nifskope-pbr-add-on" title="Permanent link">&para;</a></h4>
<p>To get descriptions for PBR properties and correct rendering of PBR in Nifscope, add <a href="https://drive.google.com/file/d/1EjHnaV3p440eVkUaJaHgPOYFkluT3DTq/view?usp=sharing">Nifskope addon for PBR</a> into your Nifscope folder. Requires Nifskope 7, not the newer fork!</p>
<h3 id="special-rendering-techniques">Special rendering techniques<a class="headerlink" href="#special-rendering-techniques" title="Permanent link">&para;</a></h3>
<h4 id="glint">Glint<a class="headerlink" href="#glint" title="Permanent link">&para;</a></h4>
<p>Glint as a rendering technique refers to the simulation of small, bright highlights or sparkles on a surface, typically due to the interaction of light with fine details or textures. These highlights are often seen on materials with very small, reflective features like glitter, polished metals, or certain fabrics. Glint effects are important in creating realistic materials in computer graphics, especially in cases where the surface has microscopic variations that cause light to scatter and reflect in a particular way.</p>
<p>Parameters:</p>
<ul>
<li>To activate Glint use FitSlope flag</li>
<li>to set glint parameters use MLP shader type  </li>
<li>screen space scale is then in parallax inner layer thickness  </li>
<li>log microfacet density is in parallax refraction scale  </li>
<li>microfacet roughness is in parallax uv x  </li>
<li>density randomization is in parallax uv y </li>
<li>nif.xml in <a href="https://drive.google.com/file/d/1EjHnaV3p440eVkUaJaHgPOYFkluT3DTq/view?usp=sharing">Nifskope addon for PBR</a> has proper naming for parameters  </li>
</ul>
<p>Glint is incompatible with coat or fuzz, but compatible with subsurface effects.</p>
<details class="example">
<summary>Sample JSON configuration for NifPatcher</summary>
<div class="highlight"><pre><span></span><code>[
    {
        &quot;texture&quot;: &quot;landscape\\glacierslab&quot;, &quot;emissive&quot;: false, &quot;parallax&quot;: true, &quot;subsurface_foliage&quot;:false, &quot;subsurface&quot;: true,
        &quot;emissive_scale&quot;: 0, &quot;vertex_colors&quot;: false,
        &quot;glint&quot;: 
            {
                &quot;screen_space_scale&quot;: 2.0,
                &quot;log_microfacet_density&quot;: 18.0,
                &quot;microfacet_roughness&quot;: 0.7,
                &quot;density_randomization&quot;: 200.0
            },
        &quot;specular_level&quot; : 0.02, &quot;subsurface_color&quot;: [1,1,1], &quot;roughness_scale&quot; : 1, &quot;subsurface_opacity&quot; : 1, &quot;displacement_scale&quot; : 0.2
    }
]
</code></pre></div>
</details>
<h4 id="fuzz">Fuzz<a class="headerlink" href="#fuzz" title="Permanent link">&para;</a></h4>
<p>Fuzz as a rendering technique is used to simulate the appearance of soft, fibrous materials, such as velvet, fur, peach fuzz, or certain types of cloth. This effect is crucial for rendering surfaces that have a fine layer of fibers or tiny hairs that interact with light in a distinctive way, producing a soft, diffuse reflection.
For CS PBR fuzz is still considered experimental and replaces specular term with another one, better suited to model cloth (especially velvet).</p>
<p>Parameters:</p>
<ul>
<li>enable soft lighting flag  </li>
<li>to set fuzz parameters use MLP shader type  </li>
<li>fuzz texture goes into slot 7 (right after rmaos). It has fuzz color in rgb (which is specular color of fuzz) and fuzz mask in alpha (0 for usual specular, 1 for fuzz specular)  </li>
<li>fuzz color parameter is used as a specular color for fuzz if texture is not provided or as multiplier for color from texture. It's stored in first three parameters of MLP  </li>
<li>fuzz weight parameter is used as fuzz mask if texture is not provided or as multiplier for fuzz mask for texture. It's stored in fourth parameter of MLP  </li>
<li>nif.xml in <a href="https://drive.google.com/file/d/1EjHnaV3p440eVkUaJaHgPOYFkluT3DTq/view?usp=sharing">Nifskope addon for PBR</a> contains proper naming for parameters  </li>
</ul>
<p>Fuzz is incompatible with coat or glint, but compatible with subsurface. </p>
<details class="example">
<summary>Sample configuration</summary>
<div class="highlight"><pre><span></span><code>{
    &quot;coatColor&quot;: [
        1.0,
        1.0,
        1.0
    ],
    &quot;coatRoughness&quot;: 1.0,
    &quot;coatSpecularLevel&quot;: 0.04,
    &quot;coatStrength&quot;: 1.0,
    &quot;displacementScale&quot;: 0.1,
    &quot;fuzzColor&quot;: [
        0.0,
        0.0,
        0.0
    ],
    &quot;fuzzWeight&quot;: 0.0,
    &quot;glintParameters&quot;: {
        &quot;densityRandomization&quot;: 2.128,
        &quot;enabled&quot;: true,
        &quot;logMicrofacetDensity&quot;: 12.87,
        &quot;microfacetRoughness&quot;: 0.063,
        &quot;screenSpaceScale&quot;: 0.0
    },
    &quot;innerLayerDisplacementOffset&quot;: 0.0,
    &quot;roughnessScale&quot;: 1.0,
    &quot;specularLevel&quot;: 0.02,
    &quot;subsurfaceColor&quot;: [
        1.0,
        1.0,
        1.0
    ],
    &quot;subsurfaceOpacity&quot;: 1.0
}
</code></pre></div>
</details>
<h4 id="hair-model">Hair model<a class="headerlink" href="#hair-model" title="Permanent link">&para;</a></h4>
<p>Hair model shaders are specialized rendering techniques used to simulate the appearance and behavior of hair, fur, and other similar fibrous structures in 3D graphics.
CS PBR has hair model shading which is in experimental state.</p>
<p>Parameters:</p>
<ul>
<li>To enable hair model enable back lighting flag  </li>
<li>no special textures, no special parameters  </li>
<li>nif.xml in <a href="https://drive.google.com/file/d/1EjHnaV3p440eVkUaJaHgPOYFkluT3DTq/view?usp=sharing">Nifskope addon for PBR</a> contains proper naming for flag  </li>
</ul>
<p>Hair model is a completely different shading model so incompatible with anything else. Actual character hair is still unsupported at the moment.</p>
<h4 id="multilayer-parallax-wip">Multilayer Parallax (WIP)<a class="headerlink" href="#multilayer-parallax-wip" title="Permanent link">&para;</a></h4>
<p>Multilayer Parallax (MLP) is an advanced texturing technique used in 3D rendering to create the illusion of depth on a surface without the need for complex geometry. It enhances the standard parallax mapping technique by layering multiple textures, giving the impression of a detailed 3D surface with rich depth, such as the inside of a brick wall, deep cracks, or layered materials like soil or rock.</p>
<p>Parameters:</p>
<ul>
<li>Enabled by MultilayerParallax flag + MultilayerParallax shader type</li>
<li>Coat strength - strength of coat layer contribution from 0 to 1. Equals to subsurface opacity field * alpha of slot 8 texture (if present)</li>
<li>Coat roughness - roughness of coat layer. Equals to parallax inner layer thickness * alpha of slot 7 texture (if present)</li>
<li>Coat specular level - reflectance of coat layer. Equals to parallax refraction scale (just set to 0.04)</li>
<li>EffectLighting - enables diffuse contribution. Color of top layer is then taken from specular color field * rgb of slot 8 texture (if present)</li>
<li>SoftLighting - enables interlayer parallax. I.e. with it enabled displacement works as displacement between upper and lower layer to simulate vanilla multilayer parallax</li>
<li>BackLighting - enables own normal map for coat layer. It's then taken from rgb of slot 7 texture</li>
</ul>
<details class="example">
<summary>Sample JSON configuration for NifPatcher</summary>
<div class="highlight"><pre><span></span><code>[
    {
        &quot;texture&quot;: &quot;icicle&quot;, &quot;emissive&quot;: false, &quot;parallax&quot;: true, &quot;subsurface_foliage&quot;:false, &quot;subsurface&quot;: false, 
        &quot;specular_level&quot; : 0, &quot;subsurface_color&quot;: [1,1,1], &quot;roughness_scale&quot; : 1, &quot;subsurface_opacity&quot; : 1, &quot;displacement_scale&quot; : 1.0,
        &quot;multilayer&quot;: true,
        &quot;coat_strength&quot;: 1.1,
        &quot;coat_roughness&quot;: 1.0,
        &quot;coat_specular_level&quot;: 0.02,
        &quot;coat_diffuse&quot;: true,
        &quot;coat_parallax&quot;: true,
        &quot;coat_normal&quot;: true
    }
]
</code></pre></div>
</details>
<h3 id="texture-changes">Texture changes<a class="headerlink" href="#texture-changes" title="Permanent link">&para;</a></h3>
<h4 id="general-textures">General textures<a class="headerlink" href="#general-textures" title="Permanent link">&para;</a></h4>
<ol>
<li>Base color in RGB, opacity in A.</li>
<li>Normal in RGB, A unused.</li>
<li>OPTIONAL Emissive color in RGB, A unused.</li>
<li>OPTIONAL Displacement in R, GBA unused.</li>
<li>Unused.</li>
<li>RMAOS - Roughness in R, metallic in G, AO in B, specular in A.</li>
<li>OPTIONAL Multilayer normal in RGB, roughness in A.</li>
<li>OPTIONAL Subsurface color in RGB, subsurface opacity in A. Multilayer coat color in RGB, opacity/strength in A.</li>
</ol>
<p>An overview for PBR and non-PBR textures can be found <a href="https://docs.google.com/spreadsheets/d/1WJaqIXpk44ISA2bFxi1a054JQD26tFqF-thDC7mHesc">here</a>.\
If the actual colors are sRGB (gamma in Mixer), use sRGB flagged dds. If the actual colors are linear, use linear dds. </p>
<h4 id="landscape-textures">Landscape textures<a class="headerlink" href="#landscape-textures" title="Permanent link">&para;</a></h4>
<p>Landscape texture is assumed to be PBR if a JSON file with the same name as the texture set record's EDID is found in 'data\PBRTextureSets'. For 'LandscapeDirt02 [TXST:00000C0F]' it would be 'LandscapeDirt02.json'
The texture paths are defined in the texture set record:</p>
<ul>
<li>
<p>TX00: 'PBR\Landscape\Dirt02.dds' Base color in RGB (assumed to be in SRGB format), transparency in A.</p>
</li>
<li>
<p>TX01: 'PBR\Landscape\Dirt02_n.dds' Normal in RGB, A unused.</p>
</li>
<li>
<p>TX02: 'PBR\Landscape\Dirt02_rmaos.dds' RMAOS - Roughness in R, metallic in G, AO in B, specular in A.</p>
</li>
<li>
<p>TX03: 'PBR\Landscape\Dirt02_g.dds' Glow in RGB, A unused. (assumed to be in SRGB format) (unused for landscape)</p>
</li>
<li>
<p>TX04: 'PBR\Landscape\Dirt02_p.dds' Displacement in R, GBA unused. (use a greyscale image and save as BC4)</p>
</li>
<li>
<p>TX05: Unused</p>
</li>
<li>
<p>TX06: 'PBR\Landscape\Dirt02_crn.dds' Coat normal in RGB, coat roughness in A. (only used for multilayer parallax - not used for landscape)</p>
</li>
<li>
<p>TX07: 'PBR\Landscape\Dirt02_s.dds' Subsurface colour in RGB, subsurface opacity in A (assumed to be in SRGB format); OR coat colour in RBG, coat strength in A (assumed to be in SRGB format) (both unused for landscape). Only used if the mesh has flag set "subsurface": true. Otherwise the texture is not needed.</p>
</li>
</ul>
<p>Usually, your record will look like this for landscape:</p>
<ul>
<li>
<p>TX00: 'PBR\Landscape\Dirt02.dds'</p>
</li>
<li>
<p>TX01: 'PBR\Landscape\Dirt02_n.dds'</p>
</li>
<li>
<p>TX02: 'PBR\Landscape\Dirt02_rmaos.dds'</p>
</li>
<li>
<p>TX03: -</p>
</li>
<li>
<p>TX04: 'PBR\Landscape\Dirt02_p.dds'</p>
</li>
</ul>
<p>The JSON file contains the values that are normally defined in the mesh:</p>
<pre><code>{
    "roughnessScale" : 1.0,
    "displacementScale" : 0.25,
    "specularLevel" : 0.04,
    "subsurfaceColor" : [1.0, 1.0, 1.0], (currently unused)
    "subsurfaceOpacity" : "0.1" (currently unused)
}
</code></pre>
<p>You can tweak the values to your needs, but be aware that landscape textures get also applied to a lot of meshes via texture set swaps - dirtcliffs, for example. In those cases, the settings in the mesh are used (and it also needs to be set up for PBR). But because many different textures are used on these meshes, your landscape textures should use similar values for parallax scale for your landscape textures. A texture that's made for a scale of 0.1 being applied to a mesh with a scale of 0.25 will have much stronger parallax than you intended.</p>
<p>If any of the textures in a quad is PBR, then the entire quad is rendered as PBR. So in order to avoid issues with blending between PBR and non-PBR textures, all landscape textures in a worldspace need to be converted to PBR together. That is to be okay since mods replacing land textures usually replace them all. Also, landscape LOD will not be rendered as PBR (blends together in the distance).</p>
<h4 id="texture-creation-workflow">Texture Creation Workflow<a class="headerlink" href="#texture-creation-workflow" title="Permanent link">&para;</a></h4>
<p>Many programs can be used to work with PBR textures. To generate textures from scratch, you can use for example Substance Designer or Material Maker (free). To edit, mix and apply materials to meshes, you can use Quixel Mixer (free), ArmorPaint (free) or Substance Painter. In this short guide I will show the workflow I use to retexture vanilla meshes.
The following workflow is based on <a href="https://quixel.com/mixer">Quixel Mixer</a> and <a href="https://github.com/chaiNNer-org/chaiNNer/releases">Chainner</a>:</p>
<ol>
<li>When installing Mixer, you can select the sample packs, which contain textures you can freely use. Do NOT select the Unlimited Megascans option - it is only free if your end product is in Unreal Engine. Though do inform yourself, I am not a lawyer.</li>
<li>
<p>Get some free PBR textures for example from polyhaven.com or ambientcg.com, or make your own. Import them using Library -&gt; Import Custom Asset.</p>
<ul>
<li>
<p>Make sure to fill out the correct albedo - one is for specular and one for metalness workflow. Most available textures use metalness workflow.</p>
</li>
<li>
<p>Make sure to use the correct normal map - Mixer uses the OpenGL variant. If you use the DirectX variant, normals may look wrong in Mixer.</p>
</li>
<li>
<p>You can add texture names to autofil in Edit -&gt; Configure Autoload Map Names</p>
</li>
</ul>
</li>
<li>
<p>Edit and mix textures however you want. Mixer has official tutorials on Youtube.</p>
</li>
<li>
<p>Export the PBR textures. You can create a preset that exports according to your needs.</p>
<ul>
<li>
<p>Pick image format according to preference. I use PNG.</p>
</li>
<li>
<p>Export albedo as _Albedo.png, RMAOS as _RMAOS.png, normal as _Normal.png, and displacement textures as _Displacement.png.</p>
</li>
<li>
<p>Take note if you export albedo in Gamma or Linear space. This will be important later.</p>
</li>
<li>
<p>You can directly export a RMAOS (roughness, metallic, ambient occlusion, specular) texture. In most cases you won't need specular and can save as RGB. </p>
</li>
<li>
<p>If you indeed worked with opengl normal maps, set Normal Y (green channel) to be inverted. This transforms it into DirectX format which Skyrim uses.</p>
</li>
</ul>
</li>
<li>
<p>Use Chainner and load the following <a href="https://drive.google.com/file/d/1S3XEIvxdIhfwHSiIg3ZdylpIZdhhVbWx">workflow</a> to automatically convert the textures toward the structure Skyrim needs them. In the workflow on the left side select the directory where you exported the textures via Mixer and enter the name used for the output.
Please note, if you exported your albedo as Gamma, you need to select compression with sRGB. This is the 'Save Image' node in the topright corner of the workflow.
Optionally change percentages of Resize nodes to downscale your textures before saving.</p>
</li>
</ol>
<h2 id="faq">FAQ<a class="headerlink" href="#faq" title="Permanent link">&para;</a></h2>
<details class="question">
<summary><strong>What about Complex Materials?</strong></summary>
<p>Complex materials are totally separate from True PBR and there would be no point in combining them. You can still use complex materials on non-pbr objects as usual.</p>
</details>
<details class="question">
<summary><strong>Can I convert vanilla shaded textures to True PBR?</strong></summary>
<p>If you originally had PBR textures that you somehow converted for Skyrim, you can use those easily. Otherwise it is impossible to do without assumptions, because Skyrim textures contain fundamentally different data. For example, many objects using enviornment mapping are metallic, but not all of them. You can do manual work or use some AI to make the necessary textures, but it is unlikely that it will be a meaningful visual improvement over vanilla.</p>
</details>
<details class="question">
<summary><strong>My materials ingame look wrong?</strong></summary>
<p>There is many possibilities for this, I will list the common ones:</p>
<ol>
<li>If the material is really shiny, the mesh probably isn't marked for PBR, so it is vanilla shaded with specularity.</li>
<li>If the material is too dark in the shadows, you might have too dark ambient occlusion. If the material gets black when you walk to it with a torch, your normal maps might be wrong - either flipped, or wrong format (opengl).</li>
</ol>
</details>
<details class="info">
<summary><strong>About Texture Compression</strong></summary>
<p>There is a number of compression format for DDS textures with various properties such as number of channels, quality and file size. Not all of them are supported by Skyrim. The following list should be sufficient in most situations:</p>
<ul>
<li>BC1: RGB + 1bit alpha (fully opaque or fully transparent). It has reasonable file size and quality. Use for opaque or cutout albedo textures, and RMAOS textures if you don't need specular. In case of visible banding or squarish artifacts, use BC7.</li>
<li>BC4: One channel (grayscale). Has the same file size as BC1, but only one channel with better quality. Use for parallax textures.</li>
<li>BC7: RGBA. Has good quality and twice the file size of BC1. Use for normal maps and albedo with full transparency.</li>
<li>BC3: RGBA. The RGB part uses BC1, alpha uses BC4. The file size is the same as BC7. This can be useful when you need to preserve a quality alpha channel, for example in complex materials or landscape textures with parallax in alpha channel.</li>
</ul>
<p>For more details I recommend <a href="https://www.reedbeta.com/blog/understanding-bcn-texture-compression-formats">this article</a>.</p>
</details>
<details class="info">
<summary><strong>Linear vs sRGB because it bears repeating</strong></summary>
<ul>
<li>You can find discussions online about linear, sRGB, non-color data etc. The details are above my paygrade, here we just hope that stuff works.</li>
<li>Extremely simplified: Math is easier with linear data, but using sRGB files allows them to store more detail human eyes can actually see (this only makes sense for colors).</li>
<li>All non-color data such as normals or roughness should be flagged as linear when saving to dds.</li>
<li>Color data is more complicated - you need to know whether the data (the colors) itself is in sRGB or linear space. AFAIK, albedo/diffuse textures from sites like polyhaven are in sRGB and it is more common on general. If this is the case, you should use the sRGB flag when saving to dds. The flag will allow to the texture to be converted to linear automatically on the gpu. If your data (the colors) is already in linear space, use the linear flag when saving to dds. As you can imagine, if you use the wrong flag, the texture will either be superfluously transformed to linear or not transformed when it should be, which will cause the texture to look wrong.</li>
<li>BUT WAIT! That applies to True PBR. If you are making textures for vanilla Skyrim... make sure your data is sRGB and it uses the linear flag. WHAT? Skyrim uses linear-flagged dds that actually contain sRGB data. I'm not sure if they convert the colors to linear manually in shaders or just calculate lighting in sRGB space. So yes, it is weird but it works this way (blame Bethesda).</li>
</ul>
</details>
<details class="question">
<summary><strong>Do I use RMAOS or RMAO textures?</strong></summary>
<p>You use the specular layer for surfaces like glass, gems, perhaps snow. If there is only one type of surface in your texture you can use RMAO and set the specular scale in the nif/json configuration. If you have different surfaces with specular properties, only then it makes sense to use rmaos with a specular map in the alpha channel.</p>
</details>
<details class="question">
<summary><strong>What is the best way to adjust parallax scale?</strong></summary>
<p>If you want to change the parallax scale of your texture because it looks to flat instead of changing the displacement map better try to adjust parallax scale in the json for the nif patcher. This usually creates good results.</p>
</details>
<details class="question">
<summary><strong>Is there any best practice for defining the specular maps and strength?</strong></summary>
<p>Most materials should use the default value of 0.04 (in the mesh &amp; json settings). That means your alpha would be white and you can save the texture as BC1. Snow has half the specular strength of most other stuff, so you could use a full 128 grey image for the alpha channel or reduce the specular strength in the json &amp; patcher files to 0.02</p>
</details>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../Shader-Constant-Buffers/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Shader Constant Buffers">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Shader Constant Buffers
              </div>
            </div>
          </a>
        
        
          
          <a href="../VR-Developer-Notes/" class="md-footer__link md-footer__link--next" aria-label="Next: VR Developer Notes">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                VR Developer Notes
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://www.nexusmods.com/skyrimspecialedition/mods/86492" target="_blank" rel="noopener" title="www.nexusmods.com" class="md-social__link">
      <?xml version="1.0" encoding="utf-8"?><!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->
<svg width="800px" height="800px" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">
   <circle cx="512" cy="512" r="512" style="fill:#da8e35"/>
   <path d="M765.2 609.1c-3.1-10.1-7.6-19.8-12.9-29.3-3.1-5.7-6.9-11.3-11-17.3 6.9-30.8 7.6-62.9 1.9-94.1-2.8-14.8-6.9-29.3-12.6-43.4 2.8-7.6 5.3-15.1 7.6-22.7 2.8-10.1 4.4-21.1 5-32.7.3-5.4.3-10.7 0-15.7-.3-14.5-4.7-24.9-10.4-32.1-1.6-2.5-3.8-4.7-6-6.6l-4.4-4.4c-5.3-5-11-10.1-16.7-14.8-12.9-10.7-25.2-19.2-37.1-26.1-5.4-3.1-12.9-7.2-21.7-10.1-5-1.6-9.4-2.5-14.2-3.1-1.9-.3-4.1-.3-6-.3-9.1 0-16.1 2.2-19.2 3.5h-.3c-14.2 4.4-27.7 11.6-42.5 21.7-4.4-.9-8.8-1.9-13.2-2.5-18.6-3.1-38.1-4.1-57.3-2.5-18.3 1.3-36.5 5-53.5 10.7-7.2 2.5-14.2 5-20.8 7.9-10.1-3.8-21.4-7.2-34-9.1-8.2-1.3-16.7-1.9-24.5-1.9h-.3c-4.1 0-8.2.3-12 .6-12 .3-20.8 4.4-27.1 9.1-2.8 1.9-5.3 4.1-7.6 6.6l-4.4 4.4c-5 5-9.8 10.7-14.5 16.4-10.4 12.9-18.9 24.9-25.8 36.8-3.1 5.4-7.2 12.6-10.1 21.4-1.6 4.7-2.5 9.1-3.1 13.5-1.9 12 1.3 21.4 2.5 25.2v.3c6 18.3 15.4 34 23 45-.9 3.8-1.6 7.9-2.2 12-2.8 19.2-3.5 38.7-1.6 57.9 1.9 18.3 5.7 36.5 11.3 52.9 1.3 3.1 2.2 6.3 3.5 9.1-.3.9-.6 1.9-.9 2.8-4.1 11-9.4 25.5-11.6 41.9-1.3 7.9-1.6 16.1-1.6 23.6 0 3.8.3 7.2.6 10.7.3 10.7 3.8 18.9 7.9 25.2 2.2 3.5 5 6.6 8.2 9.4l4.4 4.4c5.3 5 11 10.1 16.7 14.8 12.9 10.7 25.2 19.2 37.1 26.1 5.3 3.1 12.9 7.2 21.7 10.1 5 1.6 9.4 2.5 14.2 3.1 1.9.3 4.1.3 6 .3 9.1 0 16.1-2.5 19.2-2.2h.3c15.1-5 29.6-12.6 45.9-24.2 2.2.3 4.7.9 6.9 1.3 18.9 3.5 38.4 5 57.6 3.8 18.6-.9 37.1-4.4 54.8-9.8 6-1.9 12.3-4.1 18.3-6.6 11.3 4.4 23.9 8.8 38.1 11 8.8 1.6 17.3 2.2 25.8 2.2h.3c4.1 0 8.2-.3 12-.6 12-.6 20.8-4.4 27.1-9.1 2.8-2.2 5.4-4.4 7.6-6.9l3.8-3.8c10.1-10.7 19.8-22.3 28.3-34.3 7.9-11 16.7-24.2 22.3-40.3 1.6-4.7 2.8-8.8 3.5-13.2 1.8-12.8-1.1-22.2-2.3-26zm-72.9-35.9c-13.4-13.8-36.2-30.8-79-49.5l11.6-22-89.1 23.9L568 608l12.9-24.5c11 5 19.2 10.1 27.4 16.1 12.6 8.8 24.2 18.6 34 29 23.8 24.1 36.3 48.8 33.1 69.2l-.4.2-1.6.3c-11 1.3-23 .6-35.2-2.2h-.3c-13.2-3.5-26.3-8.4-39.5-14.5-25.9 13.2-55.3 20.8-86.4 20.8-21.4 0-41.9-3.6-61.1-10.1 13.5-13.6 29.9-36.3 47.9-77.4l22 11.6-23.9-89.1-82.8 31.6 24.9 13.5c-5 11-10.1 19.2-16.1 27.4-8.8 12.6-18.6 24.2-29 34-24.1 23.8-48.8 36.3-69.2 33.1l-.4-.4-.3-1.6c-1.3-11-.6-23 2.2-35.2v-.3c3.7-14 9-27.9 15.6-41.9-13-25.7-20.3-54.8-20.3-85.6 0-19.9 3.1-39.1 8.8-57.1 13.3 13.9 36.2 31.2 79.7 50.2l-11.6 22 89.1-23.9-31.8-83.4-13.3 25.2c-11-5-19.2-10.1-27.4-16.1-12.6-8.8-24.2-18.6-34-29-23.6-24-36.2-48.5-33.1-68.8l.7-.7 1.6-.3c11-1.3 23-.6 35.2 2.2h.3c11.7 3.1 23.4 7.3 35.1 12.5C448 330 479 321.6 512 321.6c21.7 0 42.5 3.7 61.9 10.3-14 13.2-31.4 36.1-50.6 80l-22-11.6 23.9 89.1 83.1-31.5-25.2-13.5c5-11 10.1-19.2 16.1-27.4 8.8-12.6 18.6-24.2 29-34 24.1-23.8 48.8-36.3 69.2-33.1l.4.4.3 1.6c1.3 11 .6 23-2.2 35.2v.3c-3.4 12.8-8.2 25.7-14 38.5 13.2 25.9 20.6 55.1 20.6 86.2-.1 21.3-3.7 41.9-10.2 61.1z" style="fill:#fff"/>
</svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://discord.gg/nkrQybAsyy" target="_blank" rel="noopener" title="discord.gg" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485 485 0 0 0 404.081 32.03a1.82 1.82 0 0 0-1.923.91 338 338 0 0 0-14.9 30.6 447.9 447.9 0 0 0-134.426 0 310 310 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.7 483.7 0 0 0-119.688 37.107 1.7 1.7 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.02 2.02 0 0 0 .765 1.375 487.7 487.7 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348 348 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321 321 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251 251 0 0 0 9.109-7.137 1.82 1.82 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.81 1.81 0 0 1 1.924.233 235 235 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.4 301.4 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391 391 0 0 0 30.014 48.815 1.86 1.86 0 0 0 2.063.7A486 486 0 0 0 610.7 405.729a1.88 1.88 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541M222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241m195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.footer", "header.autohide", "content.tabs.link"], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.83f73b43.min.js"></script>
      
    
  </body>
</html>